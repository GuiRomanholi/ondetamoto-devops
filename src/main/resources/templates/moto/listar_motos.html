<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Lista de Motos</title>
</head>
<body style="font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f0f2f5; color: #333;">

<div th:replace="~{fragments/layout :: header}"></div>

<main style="max-width: 900px; margin: 40px auto; padding: 20px; background-color: #fff; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
  <h1 style="font-size: 1.8em; color: #007bff; margin-bottom: 20px; text-align: center;">Lista de Motos</h1>

  <p th:if="${mensagem}" th:text="${mensagem}" style="color: green; text-align: center;"></p>

  <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
    <thead>
    <tr style="background-color: #f2f2f2;">
      <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">ID</th>
      <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Marca</th>
      <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Placa</th>
      <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Tag</th>
      <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Setor</th>
      <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Ações</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="moto : ${motos.content}" style="border: 1px solid #ddd;">
      <td style="border: 1px solid #ddd; padding: 8px; text-align: left;" th:text="${moto.id}"></td>
      <td style="border: 1px solid #ddd; padding: 8px; text-align: left;" th:text="${moto.marca}"></td>
      <td style="border: 1px solid #ddd; padding: 8px; text-align: left;" th:text="${moto.placa}"></td>
      <td style="border: 1px solid #ddd; padding: 8px; text-align: left;" th:text="${moto.tag != null ? moto.tag : 'Sem tag'}"></td>
      <td style="border: 1px solid #ddd; padding: 8px; text-align: left;" th:text="${moto.setores != null ? moto.setores.nome : 'Sem setor'}"></td>
      <td style="border: 1px solid #ddd; padding: 8px; text-align: left;">
        <a th:href="@{'/motos/editar/' + ${moto.id}}" style="color: #007bff; text-decoration: none; margin-right: 10px;">Editar</a>

        <form th:action="@{/motos/excluir/{id}(id=${moto.id})}" method="post" style="display:inline;">
          <input type="hidden" name="_method" value="delete"/>
          <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
          <button type="submit"
                  style="color: #dc3545; background: none; border: none; padding: 0; cursor: pointer; text-decoration: underline;"
                  onclick="return confirm('Tem certeza que deseja excluir esta moto?');">
            Excluir
          </button>
        </form>
      </td>
    </tr>
    </tbody>
  </table>

  <p style="text-align: center; margin-top: 20px;">
    <a th:href="@{/motos/novo}" style="display: inline-block; padding: 10px 15px; background-color: #007bff; color: #fff; border-radius: 5px; text-decoration: none;">Adicionar Nova Moto</a>
  </p>
</main>

<div th:replace="~{fragments/layout :: footer}"></div>

</body>
</html>
